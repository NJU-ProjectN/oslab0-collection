#include<am.h>
#include<amdev.h>
#include<klib.h>
static inline void Vyi8XZjDoj(const char *PNOyOWxJpK) {
  for (; *PNOyOWxJpK; PNOyOWxJpK++) _putc(*PNOyOWxJpK);
}
struct JIGYRzzmas {
 int J_Sl6Dag5p, Lr13OEObb4;
};
struct RsBhhiFFvE {
 int yAFGLz8ME3, TSiSLYknYn;
 int ExGIFMPbha;
 struct JIGYRzzmas K7z_BayAM3[8];
 struct JIGYRzzmas qBLBhlntx_[8];
 struct JIGYRzzmas JCyb92PO2X;
};
struct RsBhhiFFvE WxSdxkcUJN[4] = {{
 .yAFGLz8ME3 = 8, .TSiSLYknYn = 8, .ExGIFMPbha = 4,
 .K7z_BayAM3[0] = {.J_Sl6Dag5p = 4, .Lr13OEObb4 = 2,},
 .K7z_BayAM3[1] = {.J_Sl6Dag5p = 3, .Lr13OEObb4 = 3,},
 .K7z_BayAM3[2] = {.J_Sl6Dag5p = 3, .Lr13OEObb4 = 4,},
 .K7z_BayAM3[3] = {.J_Sl6Dag5p = 5, .Lr13OEObb4 = 4,},
 .qBLBhlntx_[0] = {.J_Sl6Dag5p = 4, .Lr13OEObb4 = 1,},
 .qBLBhlntx_[1] = {.J_Sl6Dag5p = 1, .Lr13OEObb4 = 3,},
 .qBLBhlntx_[2] = {.J_Sl6Dag5p = 3, .Lr13OEObb4 = 6,},
 .qBLBhlntx_[3] = {.J_Sl6Dag5p = 6, .Lr13OEObb4 = 4,},
 .JCyb92PO2X = {.J_Sl6Dag5p = 4, .Lr13OEObb4 = 3},
},{
 .yAFGLz8ME3 = 8, .TSiSLYknYn = 8, .ExGIFMPbha = 1,
 .K7z_BayAM3[0] = {.J_Sl6Dag5p = 2, .Lr13OEObb4 = 2},
 .qBLBhlntx_[0] = {.J_Sl6Dag5p = 5, .Lr13OEObb4 = 3},
 .JCyb92PO2X = {.J_Sl6Dag5p = 2, .Lr13OEObb4 = 6},
},{
 .yAFGLz8ME3 = 8, .TSiSLYknYn = 8, .ExGIFMPbha = 2,
 .K7z_BayAM3[0] = {.J_Sl6Dag5p = 3, .Lr13OEObb4 = 2,},
 .K7z_BayAM3[1] = {.J_Sl6Dag5p = 2, .Lr13OEObb4 = 5,},
 .qBLBhlntx_[0] = {.J_Sl6Dag5p = 5, .Lr13OEObb4 = 3,},
 .qBLBhlntx_[1] = {.J_Sl6Dag5p = 4, .Lr13OEObb4 = 5,},
 .JCyb92PO2X = {.J_Sl6Dag5p = 1, .Lr13OEObb4 = 2,},
},{
 .yAFGLz8ME3 = 8, .TSiSLYknYn = 9, .ExGIFMPbha = 1,
 .K7z_BayAM3[0] = {.J_Sl6Dag5p = 4, .Lr13OEObb4 = 2,},
 .qBLBhlntx_[0] = {.J_Sl6Dag5p = 3, .Lr13OEObb4 = 3,},
 .JCyb92PO2X = {.J_Sl6Dag5p = 2, .Lr13OEObb4 = 6,},
}
};
char eZelonvCFU[4][256] = {"xxx111xxxxx101xx111101xx1000011111100001xx101111xx101xxxxx111xxx","xx11111x1110001x10001011101000011000010111010001x1000111x11111xx","xx11111x1110001x10001011101000011000010111010001x1000111x11111xx","xxxx1111111110011000000110001001110110111000000110010001100111111111xxxx",
};
void hck0ckSSZL();
void XD7kFstGd3();
void UQRn26Bmz5();
void kZ6hP_qvSg();
void akI2wblQIp();
void oT4p6Ulx7J();
struct W2yp9bnpy5 {
 int J_Sl6Dag5p;
 int Lr13OEObb4;
};
char erf1kA3ufC[15][15];
int IOjC2fkbCg[15][15];
int SU7984_mkw = 0;
int qBLBhlntx_ = 0;
int main() {
  _ioe_init();
  hck0ckSSZL();
 oT4p6Ulx7J();
  while (1) {
  akI2wblQIp();
    UQRn26Bmz5();
  if(qBLBhlntx_ == WxSdxkcUJN[SU7984_mkw].ExGIFMPbha) {
   SU7984_mkw ++;
   qBLBhlntx_ = 0;
   if(SU7984_mkw == 4) {
    Vyi8XZjDoj("*********************************************\n");
    Vyi8XZjDoj("Congratulations! You complete all the challenges!\n");
    Vyi8XZjDoj("*********************************************\n");
    break;
   }
   Vyi8XZjDoj("*********************************\n");
   Vyi8XZjDoj("Good, now try the next challenge.\n");
   Vyi8XZjDoj("*********************************\n");
   oT4p6Ulx7J();
  }
  }
  return 0;
}
void oT4p6Ulx7J() {
 for(int GDOlvXNmhT = 0; GDOlvXNmhT < 15; GDOlvXNmhT ++) {
  for(int XQvYgn4qpu = 0; XQvYgn4qpu < 15; XQvYgn4qpu ++) {
   IOjC2fkbCg[GDOlvXNmhT][XQvYgn4qpu] = -1;
  }
 }
}
void kZ6hP_qvSg() {
 for(int GDOlvXNmhT = 0; GDOlvXNmhT < 15; GDOlvXNmhT ++) {
  for(int XQvYgn4qpu = 0; XQvYgn4qpu < 15; XQvYgn4qpu ++) {
   erf1kA3ufC[GDOlvXNmhT][XQvYgn4qpu] = 0;
  }
 }
 for(int J_Sl6Dag5p = 0; J_Sl6Dag5p < WxSdxkcUJN[SU7984_mkw].yAFGLz8ME3; J_Sl6Dag5p ++) {
  for(int Lr13OEObb4 = 0; Lr13OEObb4 < WxSdxkcUJN[SU7984_mkw].TSiSLYknYn; Lr13OEObb4 ++) {
   erf1kA3ufC[Lr13OEObb4][J_Sl6Dag5p] = eZelonvCFU[SU7984_mkw][J_Sl6Dag5p + Lr13OEObb4 * WxSdxkcUJN[SU7984_mkw].yAFGLz8ME3];
  }
 }
 erf1kA3ufC[WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4][WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p] = 'p';
 for(int GDOlvXNmhT = 0; GDOlvXNmhT < WxSdxkcUJN[SU7984_mkw].ExGIFMPbha; GDOlvXNmhT ++) {
  erf1kA3ufC[WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[GDOlvXNmhT].Lr13OEObb4][WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[GDOlvXNmhT].J_Sl6Dag5p] = 'b';
  erf1kA3ufC[WxSdxkcUJN[SU7984_mkw].qBLBhlntx_[GDOlvXNmhT].Lr13OEObb4][WxSdxkcUJN[SU7984_mkw].qBLBhlntx_[GDOlvXNmhT].J_Sl6Dag5p] = 'g';
  IOjC2fkbCg[WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[GDOlvXNmhT].Lr13OEObb4][WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[GDOlvXNmhT].J_Sl6Dag5p] = GDOlvXNmhT;
 }
}
void UQRn26Bmz5() {
  int c0esYbnYow = read_key();
  int pu0XGjLhxR = c0esYbnYow & ~0x8000;
  int UaykZDyUUN = ((c0esYbnYow & 0x8000) != 0);
  if (pu0XGjLhxR != _KEY_NONE && UaykZDyUUN) {
  int ufBizpkLbx = 0, QkSY7m7Gvu = 0;
  switch(pu0XGjLhxR) {
   case _KEY_UP: ufBizpkLbx = 0; QkSY7m7Gvu = -1; break;
   case _KEY_DOWN: ufBizpkLbx = 0; QkSY7m7Gvu = 1; break;
   case _KEY_LEFT: ufBizpkLbx = -1; QkSY7m7Gvu = 0; break;
   case _KEY_RIGHT: ufBizpkLbx = 1; QkSY7m7Gvu = 0; break;
   case _KEY_RETURN: qBLBhlntx_ = WxSdxkcUJN[SU7984_mkw].ExGIFMPbha; return;
  }
  int ukvKuleR4X = WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p;
  int h72Vdp9m1b = WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4;
  switch(erf1kA3ufC[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx]) {
   case '1': break;
   case '0': WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p += ufBizpkLbx;
        WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4 += QkSY7m7Gvu;
        break;
   case 'b': switch(erf1kA3ufC[h72Vdp9m1b + QkSY7m7Gvu + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx + ufBizpkLbx]){
         case '0': WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p += ufBizpkLbx;
              WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4 += QkSY7m7Gvu;
              WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx]].J_Sl6Dag5p += ufBizpkLbx;
              WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx]].Lr13OEObb4 += QkSY7m7Gvu;
              break;
         case 'g': if(IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx + ufBizpkLbx] > -1) break;
              WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p += ufBizpkLbx;
              WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4 += QkSY7m7Gvu;
              WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx]].J_Sl6Dag5p += ufBizpkLbx;
              WxSdxkcUJN[SU7984_mkw].K7z_BayAM3[IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx]].Lr13OEObb4 += QkSY7m7Gvu;
              qBLBhlntx_ ++;
              break;
        }
        break;
   case 'g': if(IOjC2fkbCg[h72Vdp9m1b + QkSY7m7Gvu][ukvKuleR4X + ufBizpkLbx] > -1) break;
        WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.J_Sl6Dag5p += ufBizpkLbx;
        WxSdxkcUJN[SU7984_mkw].JCyb92PO2X.Lr13OEObb4 += QkSY7m7Gvu;
        break;
  }
  }
}
int yAFGLz8ME3, TSiSLYknYn;
void hck0ckSSZL() {
  yAFGLz8ME3 = screen_width();
  TSiSLYknYn = screen_height();
}
void vZkqLfCIMW(int J_Sl6Dag5p, int Lr13OEObb4, int yAFGLz8ME3, int TSiSLYknYn, uint32_t gZ5nzpxC8r) {
  uint32_t OqmibpybCn[yAFGLz8ME3 * TSiSLYknYn];
  for (int GDOlvXNmhT = 0; GDOlvXNmhT < yAFGLz8ME3 * TSiSLYknYn; GDOlvXNmhT++) {
    OqmibpybCn[GDOlvXNmhT] = gZ5nzpxC8r;
  }
  draw_rect(OqmibpybCn, J_Sl6Dag5p, Lr13OEObb4, yAFGLz8ME3, TSiSLYknYn);
}
void akI2wblQIp() {
 kZ6hP_qvSg();
 for(int J_Sl6Dag5p = 0; J_Sl6Dag5p * 28 <= yAFGLz8ME3; J_Sl6Dag5p ++) {
  for(int Lr13OEObb4 = 0; Lr13OEObb4 * 28 <= TSiSLYknYn; Lr13OEObb4 ++) {
   if(J_Sl6Dag5p < 15 && Lr13OEObb4 < 15) {
    switch(erf1kA3ufC[Lr13OEObb4][J_Sl6Dag5p]) {
     case 'x': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0x0); break;
     case '1': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0xdaa569); break;
     case '0': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0xc0c0c0); break;
     case 'b': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0x802a2a); break;
     case 'g': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0xfa8072); break;
     case 'p': vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0xf5f5f5); break;
     default: ;
    }
   }
   else {
    vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0x0); break;
   }
  }
 }
  draw_sync();
}
void XD7kFstGd3() {
  for (int J_Sl6Dag5p = 0; J_Sl6Dag5p * 28 <= yAFGLz8ME3; J_Sl6Dag5p ++) {
    for (int Lr13OEObb4 = 0; Lr13OEObb4 * 28 <= TSiSLYknYn; Lr13OEObb4++) {
      if ((J_Sl6Dag5p & 1) ^ (Lr13OEObb4 & 1)) {
        vZkqLfCIMW(J_Sl6Dag5p * 28, Lr13OEObb4 * 28, 28, 28, 0xffffff);
      }
    }
  }
}
